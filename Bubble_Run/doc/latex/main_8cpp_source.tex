\hypertarget{main_8cpp_source}{}\doxysection{main.\+cpp}
\label{main_8cpp_source}\index{TP\_projet/main.cpp@{TP\_projet/main.cpp}}
\mbox{\hyperlink{main_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#include <GL/glew.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00002}00002 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00005}00005 \textcolor{preprocessor}{\#include <ft2build.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include FT\_FREETYPE\_H}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00007}00007 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00009}00009 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{SDLWindowManager_8hpp}{glimac/SDLWindowManager.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00010}00010 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{glimac_2include_2glimac_2Program_8hpp}{glimac/Program.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00011}00011 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{FilePath_8hpp}{glimac/FilePath.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{glimac_2include_2glimac_2glm_8hpp}{glimac/glm.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00013}00013 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Image_8hpp}{glimac/Image.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00014}00014 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Sphere_8hpp}{glimac/Sphere.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00015}00015 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Geometry_8hpp}{glimac/Geometry.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00017}00017 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Camera_8hpp}{rendering/Camera.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00018}00018 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{TrackballCamera_8hpp}{rendering/TrackballCamera.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{EyesCamera_8hpp}{rendering/EyesCamera.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00020}00020 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Texture_8hpp}{rendering/Texture.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00021}00021 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{rendering_2include_2rendering_2Program_8hpp}{rendering/Program.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00022}00022 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Skybox_8hpp}{rendering/Skybox.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00023}00023 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Cube_8hpp}{rendering/Cube.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00024}00024 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Text_8hpp}{rendering/Text.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00025}00025 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Menu_8hpp}{rendering/Menu.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00026}00026 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Cursor_8hpp}{rendering/Cursor.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00027}00027 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{json_8hpp}{rendering/json.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00028}00028 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Score_8hpp}{rendering/Score.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00030}00030 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{CourseMap_8hpp}{game/CourseMap.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00031}00031 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Object_8hpp}{game/Object.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00032}00032 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{Player_8hpp}{game/Player.hpp}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00034}\mbox{\hyperlink{main_8cpp_ab701e3ac61a85b337ec5c1abaad6742d}{00034}} \textcolor{keyword}{using} \mbox{\hyperlink{classnlohmann_1_1basic__json}{json}} = \mbox{\hyperlink{namespacenlohmann_a2bfd99e845a2e5cd90aeaf1b1431f474}{nlohmann::json}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00036}\mbox{\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{00036}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main}}(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} **argv)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00037}00037 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00039}00039     \textcolor{comment}{// Initialize SDL and open a window}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00040}00040     \mbox{\hyperlink{classglimac_1_1SDLWindowManager}{glimac::SDLWindowManager}} windowManager(1700, 900, \textcolor{stringliteral}{"{}Temple\_Fun"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00041}00041     \textcolor{keywordtype}{int} previousTime = 0, currentTime = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00043}00043     \textcolor{comment}{// Initialize glew for OpenGL3+ support}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00044}00044     GLenum glewInitError = glewInit();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00045}00045     \textcolor{keywordflow}{if} (GLEW\_OK != glewInitError)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00046}00046     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00047}00047         std::cerr << glewGetErrorString(glewInitError) << std::endl;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00048}00048         \textcolor{keywordflow}{return} EXIT\_FAILURE;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00049}00049     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00051}00051     std::cout << \textcolor{stringliteral}{"{}OpenGL Version : "{}} << glGetString(GL\_VERSION) << std::endl;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00052}00052     std::cout << \textcolor{stringliteral}{"{}GLEW Version : "{}} << glewGetString(GLEW\_VERSION) << std::endl;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00054}00054 \textcolor{comment}{    /*********************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00055}00055 \textcolor{comment}{    *     INITIALIZATION CODE       *}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00056}00056 \textcolor{comment}{   *********************************/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00058}00058     \textcolor{comment}{// Menu initialization}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00059}00059     SDL\_Cursor *cursor = init\_system\_cursor(arrow), *cursor2 = init\_system\_cursor(arrow2);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00060}00060     \mbox{\hyperlink{classMenu}{Menu}} menu;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00061}00061     \textcolor{keywordtype}{bool} menu\_bool = \textcolor{keyword}{true}, menu\_score = \textcolor{keyword}{false}, menu\_play\_again = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00062}00062     \mbox{\hyperlink{classScore}{Score}} scorejson;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00064}00064     \textcolor{comment}{// Map initialization}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00065}00065     \mbox{\hyperlink{classCourseMap}{CourseMap}} courseMap;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00066}00066     \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00067}00067     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00068}00068         courseMap.\mbox{\hyperlink{classCourseMap_a8edd6012301f8533835bdccaaa3bb0e6}{loadMap}}(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/map.ppm"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00069}00069     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00070}00070     \textcolor{keywordflow}{catch} (std::string \&s)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00071}00071     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00072}00072         std::cerr << \textcolor{stringliteral}{"{}Error : "{}} << s << std::endl;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00073}00073     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00074}00074     courseMap.\mbox{\hyperlink{classCourseMap_a0c633bcf06c5835c1121d83b9b397f53}{loadCoins}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00075}00075     \mbox{\hyperlink{classPlayer}{Player}} player(courseMap, \mbox{\hyperlink{structglm_1_1detail_1_1tvec3}{glm::vec3}}(1, 3, 0)), enemy(courseMap, \mbox{\hyperlink{structglm_1_1detail_1_1tvec3}{glm::vec3}}(1, 0, 0));}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00076}00076     \mbox{\hyperlink{classObject}{Object}} *objet = courseMap.\mbox{\hyperlink{classCourseMap_a1919a586b423db04121c770c44c6a8e8}{findObject}}(player.getFloorCoord());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00077}00077     \mbox{\hyperlink{classObject}{Object}} *objet\_enemy = courseMap.\mbox{\hyperlink{classCourseMap_a1919a586b423db04121c770c44c6a8e8}{findObject}}(enemy.\mbox{\hyperlink{classPlayer_ac83539d467be414f62aad93fbf6ba503}{getFloorCoord}}());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00078}00078     \textcolor{keywordtype}{int} score = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00079}00079     \textcolor{keywordtype}{int} speed = 5;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00080}00080 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00081}00081     \textcolor{comment}{//Camera initialization}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00082}00082     \mbox{\hyperlink{classrendering_1_1TrackballCamera}{rendering::TrackballCamera}} trackball\_camera(\&player);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00083}00083     \mbox{\hyperlink{classrendering_1_1EyesCamera}{rendering::EyesCamera}} eyes\_camera(\&player);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00084}00084     \mbox{\hyperlink{classrendering_1_1Camera}{rendering::Camera}} *camera = \&trackball\_camera;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00086}00086     \textcolor{comment}{//Textures and mesh initialization}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00087}00087     \mbox{\hyperlink{classrendering_1_1Texture}{rendering::Texture}} obstacle(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/textures/ground.png"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00088}00088     \mbox{\hyperlink{classrendering_1_1Texture}{rendering::Texture}} nemo(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/textures/nemo.jpg"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00089}00089     \mbox{\hyperlink{classrendering_1_1Texture}{rendering::Texture}} ground(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/textures/stone\_ground.png"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00090}00090     \mbox{\hyperlink{classrendering_1_1Texture}{rendering::Texture}} coin(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/textures/gold.png"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00091}00091     \mbox{\hyperlink{classrendering_1_1Texture}{rendering::Texture}} shark(\textcolor{stringliteral}{"{}../Temple\_Fun/assets/textures/shark.png"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00093}00093     \mbox{\hyperlink{classrendering_1_1Cube}{rendering::Cube}} cube\_path(ground, 1), cube\_nemo(nemo, 1), cube\_obstacle(obstacle, 1),}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00094}00094         cube\_coin(coin, 1), cube\_shark(shark, 1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00096}00096     cube\_path.setBuffers();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00097}00097     cube\_nemo.setBuffers();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00098}00098     cube\_coin.setBuffers();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00099}00099     cube\_obstacle.setBuffers();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00100}00100     cube\_shark.\mbox{\hyperlink{classrendering_1_1Model_ae735601092c5c3a731da95b9eeff3505}{setBuffers}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00102}00102     std::map<char, rendering::Text> Characters;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00103}00103     \mbox{\hyperlink{classrendering_1_1Text}{rendering::Text}} text;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00104}00104     text.\mbox{\hyperlink{classrendering_1_1Text_a7d6776480180973b2ca3d1e1a332e862}{loadFont}}(Characters);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00105}00105     text.\mbox{\hyperlink{classrendering_1_1Text_a7585872c073340edc4e7f3ad09470b23}{display}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00106}00106 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00107}00107     \textcolor{comment}{// Shaders loading}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00108}00108     \mbox{\hyperlink{classglimac_1_1FilePath}{glimac::FilePath}} applicationPath(argv[0]);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00109}00109     \mbox{\hyperlink{classrendering_1_1ShaderManager}{rendering::ShaderManager}} menuShader(applicationPath, \textcolor{stringliteral}{"{}shaders/menu.vs.glsl"{}}, \textcolor{stringliteral}{"{}shaders/menu.fs.glsl"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00110}00110     menuShader.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uModelMatrix"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00111}00111     menuShader.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uColor"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00113}00113     \mbox{\hyperlink{classrendering_1_1ShaderManager}{rendering::ShaderManager}} TextureProgram(applicationPath, \textcolor{stringliteral}{"{}shaders/3D.vs.glsl"{}}, \textcolor{stringliteral}{"{}shaders/tex3D.fs.glsl"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00114}00114     TextureProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uMVPMatrix"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00115}00115     TextureProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uMVMatrix"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00116}00116     TextureProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uNormalMatrix"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00117}00117     TextureProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uTexture"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00118}00118 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00119}00119     \mbox{\hyperlink{classrendering_1_1ShaderManager}{rendering::ShaderManager}} SkyboxProgram(applicationPath, \textcolor{stringliteral}{"{}shaders/skybox.vs.glsl"{}}, \textcolor{stringliteral}{"{}shaders/skybox.fs.glsl"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00120}00120     SkyboxProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}projection"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00121}00121     SkyboxProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}view"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00122}00122     SkyboxProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}uSkybox"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00123}00123 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00124}00124     \mbox{\hyperlink{classrendering_1_1ShaderManager}{rendering::ShaderManager}} TextProgram(applicationPath, \textcolor{stringliteral}{"{}shaders/text.vs.glsl"{}}, \textcolor{stringliteral}{"{}shaders/text.fs.glsl"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00125}00125     TextProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_ab98d2116d6f6b565b966b6a33a6fe21d}{addUniform}}(\textcolor{stringliteral}{"{}projection"{}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00127}00127     \mbox{\hyperlink{structglm_1_1detail_1_1tmat4x4}{glm::mat4}} projection = \mbox{\hyperlink{group__gtc__matrix__transform_ga087d53ee6fc88b262214fd5a0e313f05}{glm::ortho}}(0.0f, 800.0f, 0.0f, 600.0f);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00128}00128     TextProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_aafe2a52ae6f541da55cb7ac66f9c308e}{use}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00129}00129     \mbox{\hyperlink{dummy_8cpp_a0294e2a1faa1a1ff720a35ac06b4282a}{glUniformMatrix4fv}}(glGetUniformLocation(TextProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_a0772581870858b478ff8d6d1d5a42f84}{getId}}(), \textcolor{stringliteral}{"{}projection"{}}), 1, \mbox{\hyperlink{dummy_8cpp_abca6d43f43fae31f49dcb883b2f301f6}{GL\_FALSE}}, \mbox{\hyperlink{group__gtc__type__ptr_gaa6abca1c01d37b11c0d524bdf74b2094}{glm::value\_ptr}}(projection));}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00130}00130 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00131}00131     glEnable(GL\_DEPTH\_TEST);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00132}00132 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00133}00133     \textcolor{comment}{// Creation of the Skybox}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00134}00134     \mbox{\hyperlink{classSkybox}{Skybox}} skybox;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00135}00135     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cubemapTexture;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00136}00136     \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00137}00137     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00138}00138         cubemapTexture = \mbox{\hyperlink{namespaceglimac_a66c7ca34dc0d1e17ebb7cc4ee5cb820d}{glimac::loadCubemap}}(\mbox{\hyperlink{Skybox_8hpp_a9f6fe93ec8024281a561220d42ed80b0}{skybox\_sky}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00139}00139     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00140}00140     \textcolor{keywordflow}{catch} (std::string \&s)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00141}00141     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00142}00142         std::cerr << \textcolor{stringliteral}{"{}Error : "{}} << s << std::endl;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00143}00143     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00144}00144 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00145}00145     \textcolor{comment}{// Application loop:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00146}00146     \textcolor{keywordtype}{bool} done = \textcolor{keyword}{false}, \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}} = \textcolor{keyword}{false}, again = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00147}00147     \textcolor{keywordtype}{int} \mbox{\hyperlink{group__core__func__common_gaf21c84759af7799f573865f70c2f0a86}{step}} = 0, step\_turn = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00148}00148     \textcolor{keywordtype}{bool} turn\_up = \textcolor{keyword}{false}, turn\_down = \textcolor{keyword}{false}, turn\_right = \textcolor{keyword}{false}, turn\_left = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00149}00149 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00150}00150     \textcolor{keywordflow}{while} (!done)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00151}00151     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00152}00152         currentTime = SDL\_GetTicks();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00153}00153         \mbox{\hyperlink{structglm_1_1detail_1_1tmat4x4}{glm::mat4}} ViewMatrix = camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_ad1a2f332b6e0551c1aa1c0c1c2b49169}{getViewMatrix}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00155}00155         \textcolor{keywordtype}{int} x, y;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00156}00156         SDL\_GetMouseState(\&x, \&y);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00157}00157         SDL\_SetCursor(cursor);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00158}00158         \mbox{\hyperlink{Cursor_8hpp_aa705073835547f13811710b65535d166}{setCursors}}(menu\_bool, menu\_score, menu\_play\_again, cursor2, x, y);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00159}00159 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00160}00160         \textcolor{comment}{// Event loop:}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00161}00161         SDL\_Event \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00162}00162         \textcolor{keywordflow}{while} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_a4b2fd3e74f00c28d3b03e0cff3bb0131}{pollEvent}}(\mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}))}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00163}00163         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00164}00164             \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_QUIT)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00165}00165                 done = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00167}00167             \textcolor{comment}{// MENU MANAGER}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00168}00168             \textcolor{keywordflow}{if} (menu\_bool \& !menu\_score \& !menu\_play\_again \& \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_MOUSEBUTTONUP \& x > 764 \& y > 425 \& x < 932 \& y < 467)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00169}00169             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00170}00170                 menu\_bool = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00171}00171             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00173}00173             \textcolor{keywordflow}{if} (menu\_play\_again \& !menu\_bool \& !menu\_score \& \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_MOUSEBUTTONUP \& x > 679 \& y > 423 \& x < 1018 \& y < 474)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00174}00174             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00175}00175                 menu\_play\_again = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00176}00176             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00178}00178             \textcolor{keywordflow}{if} (menu\_play\_again \& !menu\_bool \& !menu\_score \& \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_MOUSEBUTTONUP \& x > 764 \& y > 540 \& x < 932 \& y < 583)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00179}00179             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00180}00180                 menu\_play\_again = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00181}00181                 menu\_score = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00182}00182             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00184}00184             \textcolor{keywordflow}{if} (menu\_bool \& !menu\_score \& \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_MOUSEBUTTONUP \& x > 764 \& y > 540 \& x < 932 \& y < 583)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00185}00185             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00186}00186                 menu\_score = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00187}00187                 menu\_bool = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00188}00188             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00189}00189 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00190}00190             \textcolor{keywordflow}{if} (!menu\_bool \& menu\_score \& \mbox{\hyperlink{group__gtc__constants_gab83fb6de0f05d6c0d11bdf0479f8319e}{e}}.type == SDL\_MOUSEBUTTONUP \& x > 1447 \& y > 789 \& x < 1613 \& y < 829)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00191}00191             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00192}00192                 menu\_score = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00193}00193                 menu\_bool = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00194}00194             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00195}00195 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00196}00196             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_ESCAPE))}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00197}00197                 menu\_bool = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00198}00198 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00199}00199             \textcolor{comment}{// CAMERA SWITCH AND LOCK}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00200}00200             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_c))}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00201}00201             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00202}00202                 \textcolor{keywordflow}{if} (camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a8c10601d747d502c290314c02866cc8a}{getCameraType}}() == 0)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00203}00203                 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00204}00204                     camera = \&eyes\_camera;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00205}00205                     camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a53b67ba7d03905cdf167691b5e70c897}{rotateLeft}}(player.getOrientation());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00206}00206                 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00207}00207                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00208}00208                 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00209}00209                     camera = \&trackball\_camera;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00210}00210                     camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a53b67ba7d03905cdf167691b5e70c897}{rotateLeft}}(player.getOrientation());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00211}00211                 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00212}00212             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00213}00213 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00214}00214             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_l))    camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_aff8f5e27ca45827b24bbebe77e40fe26}{setLocker}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00215}00215 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00216}00216             \textcolor{comment}{// PREVENT THE EVENT FROM REPEATING OUTSIDE POLLEVENT}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00217}00217             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_d))    \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00218}00218             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_q))    \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00219}00219             \textcolor{keywordflow}{if} (windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_afa3e15ceca501ac52df29b1906cbb083}{isKeyPressed}}(SDLK\_z))    \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00220}00220         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00221}00221 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00222}00222         \textcolor{comment}{// MAIN MENU DISPLAY}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00223}00223         \textcolor{keywordflow}{if} (menu\_bool \& !menu\_score \& !menu\_play\_again)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00224}00224         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00225}00225             menu.\mbox{\hyperlink{classMenu_a19f6c2a27a7140734f76f35b263feb5f}{setMenuBool}}(menuShader);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00226}00226             text.\mbox{\hyperlink{classrendering_1_1Text_a57568823062e1ffadff09c98b7d54c0d}{renderMenuText}}(TextProgram, Characters);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00227}00227         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00228}00228 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00229}00229         \textcolor{comment}{// SCORE DISPLAY}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00230}00230         \textcolor{keywordflow}{if} (menu\_score \& !menu\_bool \& !menu\_play\_again)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00231}00231         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00232}00232             menu.\mbox{\hyperlink{classMenu_a974987ef6d710954a84b15bd00cf86a7}{setMenuScore}}(menuShader);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00233}00233             text.\mbox{\hyperlink{classrendering_1_1Text_a6e36ee7ed6d2f07e90cb929dedd0c827}{renderScoreText}}(TextProgram, Characters, scorejson);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00234}00234         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00235}00235 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00236}00236         \textcolor{comment}{// PLAY AGAIN MENU DISPLAY}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00237}00237         \textcolor{keywordflow}{if} (menu\_play\_again \& !menu\_score \& !menu\_bool)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00238}00238         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00239}00239             player.setCoord(\mbox{\hyperlink{structglm_1_1detail_1_1tvec3}{glm::vec3}}(1, 3, 0));}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00240}00240             enemy.\mbox{\hyperlink{classPlayer_a1c0b6edb07d01127bf8eb27a6ed29073}{setCoord}}(\mbox{\hyperlink{structglm_1_1detail_1_1tvec3}{glm::vec3}}(1, 0, 0));}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00241}00241             enemy.\mbox{\hyperlink{classPlayer_a4abc7df56be8134ddf0e7b862a833c85}{setOrientation}}(0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00242}00242             player.setLife(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00243}00243             player.setOrientation(0);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00244}00244             camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a53b67ba7d03905cdf167691b5e70c897}{rotateLeft}}(player.getOrientation());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00245}00245             again = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00247}00247             menu.\mbox{\hyperlink{classMenu_a8433e4ee602084b8cc8725635515c11d}{setMenuPlayAgain}}(menuShader);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00248}00248             text.\mbox{\hyperlink{classrendering_1_1Text_a118fee45a66838755411a16d8a8568b9}{renderPlayAgainText}}(TextProgram, Characters, score);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00249}00249         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00250}00250 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00251}00251         \textcolor{comment}{// RESET THE GAME DATA IF THE USER WANTS TO PLAY AGAIN}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00252}00252         \textcolor{keywordflow}{if} (again = \textcolor{keyword}{true} \& !menu\_play\_again \& player.getCoord() == \mbox{\hyperlink{structglm_1_1detail_1_1tvec3}{glm::vec3}}(1, 0, 0))}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00253}00253         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00254}00254             courseMap.\mbox{\hyperlink{classCourseMap_a0c633bcf06c5835c1121d83b9b397f53}{loadCoins}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00255}00255             score = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00256}00256             again = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00257}00257         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00258}00258 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00259}00259         \textcolor{comment}{// GAME DISPLAY}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00260}00260         \textcolor{keywordflow}{if} (!menu\_bool \& !menu\_score \& !menu\_play\_again)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00261}00261         \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00262}00262             \textcolor{comment}{// GAME LOOP}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00263}00263             \textcolor{keywordflow}{if} (player.isLife() \& player.getCoord()[1] != courseMap.\mbox{\hyperlink{classCourseMap_aff91a1787af849dbd98173d0540390b4}{end}}() \& player.getCoord()[0] >= 0 \& player.getCoord()[1] >= 0)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00264}00264             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00265}00265                 objet = courseMap.\mbox{\hyperlink{classCourseMap_a1919a586b423db04121c770c44c6a8e8}{findObject}}(player.getFloorCoord());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00266}00266                 objet\_enemy = courseMap.\mbox{\hyperlink{classCourseMap_a1919a586b423db04121c770c44c6a8e8}{findObject}}(enemy.\mbox{\hyperlink{classPlayer_ac83539d467be414f62aad93fbf6ba503}{getFloorCoord}}());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00267}00267 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00268}00268                 player.moveManager(objet, camera, score, windowManager, \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}}, turn\_up, turn\_down, turn\_right, turn\_left, step\_turn);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00269}00269                 enemy.\mbox{\hyperlink{classPlayer_a68da82b2dc6b50997d19b9f3569f5241}{moveEnemyManager}}(objet\_enemy);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00270}00270 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00271}00271                 \textcolor{keywordflow}{if} (currentTime -\/ previousTime > speed)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00272}00272                 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00273}00273                     player.moveOrientation();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00274}00274                     enemy.\mbox{\hyperlink{classPlayer_a668c2b03d3f835e96cd3c90801504fcd}{moveOrientation}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00275}00275 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00276}00276                     \textcolor{keywordflow}{if} (player.isJumping())}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00277}00277                         player.jump(windowManager, \mbox{\hyperlink{group__gtx__wrap_ga809650c6310ea7c42666e918c117fb6f}{repeat}}, \mbox{\hyperlink{group__core__func__common_gaf21c84759af7799f573865f70c2f0a86}{step}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00278}00278 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00279}00279                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__core__func__common_gaf21c84759af7799f573865f70c2f0a86}{step}} >= 10)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00280}00280                         player.fall(\mbox{\hyperlink{group__core__func__common_gaf21c84759af7799f573865f70c2f0a86}{step}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00281}00281 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00282}00282                     \textcolor{keywordflow}{if} (camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a8c10601d747d502c290314c02866cc8a}{getCameraType}}() == 1)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00283}00283                         camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a756b34b162fdc8632ec9e803b9aedd43}{moveFront}}(0.1);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00284}00284 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00285}00285                     \textcolor{keywordflow}{if} (step\_turn < 30 \& (turn\_right || turn\_up || turn\_down || turn\_left))}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00286}00286                         step\_turn += 1;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00288}00288                     \textcolor{keywordflow}{if} (step\_turn >= 30)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00289}00289                     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00290}00290                         turn\_up = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00291}00291                         turn\_down = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00292}00292                         turn\_left = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00293}00293                         turn\_up = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00294}00294                         step\_turn = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00295}00295                     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00296}00296 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00297}00297                     previousTime = currentTime;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00298}00298                 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00299}00299             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00300}00300 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00301}00301             \textcolor{keywordflow}{if} (!player.isLife())}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00302}00302             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00303}00303                 scorejson.\mbox{\hyperlink{classScore_a10464bcbde3717b8ef084e2369a4cc0c}{addScore}}(score);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00304}00304                 menu\_play\_again = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00305}00305             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00306}00306 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00307}00307             \textcolor{keywordflow}{if} (player.getFloorCoord().y == courseMap.\mbox{\hyperlink{classCourseMap_aff91a1787af849dbd98173d0540390b4}{end}}())}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00308}00308             \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00309}00309                 scorejson.\mbox{\hyperlink{classScore_a10464bcbde3717b8ef084e2369a4cc0c}{addScore}}(score);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00310}00310                 menu\_play\_again = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00311}00311             \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00312}00312 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00313}00313             camera-\/>\mbox{\hyperlink{classrendering_1_1Camera_a98d96dfaf0908e0497aac9b6a1b00154}{eventCamera}}(windowManager);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00314}00314 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00315}00315 \textcolor{comment}{            /*********************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00316}00316 \textcolor{comment}{             *      RENDERING CODE           *}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00317}00317 \textcolor{comment}{             *********************************/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00319}00319             glClear(GL\_COLOR\_BUFFER\_BIT | GL\_DEPTH\_BUFFER\_BIT);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00320}00320 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00321}00321             TextureProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_aafe2a52ae6f541da55cb7ac66f9c308e}{use}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00322}00322             \mbox{\hyperlink{structglm_1_1detail_1_1tmat4x4}{glm::mat4}} ProjMatrix = \mbox{\hyperlink{group__gtc__matrix__transform_ga6725cc60e7c3ed7346bbbc5e4307e485}{glm::perspective}}(\mbox{\hyperlink{group__core__func__trigonometric_ga431d31cdb060059bc5b0696e212f1453}{glm::radians}}(70.f), 1700.f / 900.f, 0.1f, 100.f);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00324}00324             \textcolor{comment}{// Drawing of the Characters as cubes}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00325}00325             player.draw(cube\_nemo, camera, TextureProgram, ProjMatrix);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00326}00326             enemy.\mbox{\hyperlink{classPlayer_a7cbea9bdcaaa459aacad0364df2f5485}{draw}}(cube\_shark, camera, TextureProgram, ProjMatrix);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00328}00328             \textcolor{comment}{// Drawing of the Path}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00329}00329             courseMap.\mbox{\hyperlink{classCourseMap_ac643ef6aad5e045034135073420c851d}{drawMap}}(cube\_path, cube\_coin, camera, TextureProgram, ProjMatrix, windowManager);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00330}00330             courseMap.\mbox{\hyperlink{classCourseMap_ab40e4a7e9f3bc5efbf9aaccfab29c434}{drawObstacle}}(cube\_obstacle, camera, TextureProgram, ProjMatrix, windowManager);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00331}00331 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00332}00332             \textcolor{comment}{// Drawing of the Skybox}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00333}00333             glDepthFunc(GL\_LEQUAL);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00334}00334             SkyboxProgram.\mbox{\hyperlink{classrendering_1_1ShaderManager_aafe2a52ae6f541da55cb7ac66f9c308e}{use}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00335}00335             skybox.\mbox{\hyperlink{classSkybox_acea00f6b44d702a534f305c65fa55cad}{draw}}(SkyboxProgram, camera, ProjMatrix, cubemapTexture);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00336}00336 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00337}00337             \textcolor{comment}{// Display the text}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00338}00338             text.\mbox{\hyperlink{classrendering_1_1Text_ab2434a0fb4d1907887830521b32d5aee}{renderGameText}}(TextProgram, Characters, score);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00339}00339         \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00340}00340         glDisable(GL\_BLEND);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00341}00341         windowManager.\mbox{\hyperlink{classglimac_1_1SDLWindowManager_aee6b4f60e5b418a99d35360aea48bd41}{swapBuffers}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00342}00342     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00343}00343 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00344}00344     \textcolor{keywordflow}{return} EXIT\_SUCCESS;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00345}00345 \}}

\end{DoxyCode}
